#!/bin/bash
source .env

export PROJECT_USER=$(id -u):$(id -g)
export PROJECT_MODE=${PROJECT_MODE:-local} 
export PROJECT_ROUTER=${PROJECT_ROUTER:-local-ca}
export PROJECT_RAW_CLI=${PROJECT_RAW_CLI:-local} 
export PROJECT_CA_ROOT=$(mkcert -CAROOT)
export PROJECT_CA_CRT_FILENAME="rootCA.pem"
export PROJECT_CA_KEY_FILENAME="rootCA-key.pem"
export PROJECT_CA_CRT_PATH=${PROJECT_CA_ROOT}/${PROJECT_CA_CRT_FILENAME}
export PROJECT_CA_KEY_PATH=${PROJECT_CA_ROOT}/${PROJECT_CA_KEY_FILENAME}
export PROJECT_CRT_RENEW_DAYS=795
export PROJECT_FULL_NAME=${PROJECT_MODE}_${PROJECT_NAME}
export PROJECT_ROOT="$(pwd)"
export TEMPLATE_ROOT="$(pwd)/template"

if [ "$PROJECT_SECRETS_FILE" = "---default---" ]; then 
    export PROJECT_SECRETS_FILE=$(pwd)/.env.secrets
fi 

